{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Resources": {
    "CopyS3LambdaFunction": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "your-lambda-code-bucket",
          "S3Key": "lambda-code.zip"
        },
        "Handler": "index.handler",
        "Role": "arn:aws:iam::account-A-ID:role/lambda-role",
        "Runtime": "nodejs14.x"
      }
    },
    "CopyS3Permission": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": { "Fn::GetAtt": ["CopyS3LambdaFunction", "Arn"] },
        "Principal": "s3.amazonaws.com",
        "SourceAccount": "account-A-ID",
        "SourceArn": "arn:aws:s3:::source-bucket"
      }
    }
  },
  "Outputs": {
    "LambdaFunctionArn": {
      "Description": "ARN of the Lambda function",
      "Value": { "Fn::GetAtt": ["CopyS3LambdaFunction", "Arn"] }
    }
  }
}
